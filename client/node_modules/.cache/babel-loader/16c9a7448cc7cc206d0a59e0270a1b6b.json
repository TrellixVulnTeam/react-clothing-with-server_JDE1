{"ast":null,"code":"var _jsxFileName = \"/Users/wellnaidyadrian/Visualstudio/neagoie/react/clothing-shop/src/components/with-auth/with-auth.component.js\";\nimport React from \"react\";\nimport { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\nimport { createStructuredSelector } from \"reselect\";\nimport { selectCurrentUser } from \"../../redux/user/user.selectors\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst withAuth = (WrappedComponent, isAdmin = false) => {\n  class WithAuth extends Component {\n    constructor(...args) {\n      super(...args);\n\n      this.authCheck = () => {\n        const auth = this.props.userReducer;\n\n        if (auth.isAuth) {\n          const role = auth.user.role;\n\n          if (role === 1 && isAdmin) {\n            return /*#__PURE__*/_jsxDEV(Redirect, {\n              to: \"/dashboard\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 16,\n              columnNumber: 18\n            }, this);\n          }\n\n          return /*#__PURE__*/_jsxDEV(WrappedComponent, { ...this.props\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 18,\n            columnNumber: 16\n          }, this);\n        } else {\n          return /*#__PURE__*/_jsxDEV(Redirect, {\n            to: \"/signin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 20,\n            columnNumber: 16\n          }, this);\n        }\n      };\n    }\n\n    render() {\n      return this.authCheck();\n    }\n\n  }\n\n  const mapStateToProps = state => ({\n    userReducer: state.userReducer\n  });\n\n  return connect(mapStateToProps)(WithAuth);\n};\n\nexport default withAuth;","map":{"version":3,"sources":["/Users/wellnaidyadrian/Visualstudio/neagoie/react/clothing-shop/src/components/with-auth/with-auth.component.js"],"names":["React","Component","connect","Redirect","createStructuredSelector","selectCurrentUser","withAuth","WrappedComponent","isAdmin","WithAuth","authCheck","auth","props","userReducer","isAuth","role","user","render","mapStateToProps","state"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,QAA0B,OAA1B;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,SAASC,wBAAT,QAAyC,UAAzC;AAEA,SAASC,iBAAT,QAAkC,iCAAlC;;;AAEA,MAAMC,QAAQ,GAAG,CAACC,gBAAD,EAAmBC,OAAO,GAAG,KAA7B,KAAuC;AACtD,QAAMC,QAAN,SAAuBR,SAAvB,CAAiC;AAAA;AAAA;;AAAA,WAC/BS,SAD+B,GACnB,MAAM;AAChB,cAAMC,IAAI,GAAG,KAAKC,KAAL,CAAWC,WAAxB;;AACA,YAAIF,IAAI,CAACG,MAAT,EAAiB;AACf,gBAAMC,IAAI,GAAGJ,IAAI,CAACK,IAAL,CAAUD,IAAvB;;AACA,cAAIA,IAAI,KAAK,CAAT,IAAcP,OAAlB,EAA2B;AACzB,gCAAO,QAAC,QAAD;AAAU,cAAA,EAAE,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,oBAAP;AACD;;AACD,8BAAO,QAAC,gBAAD,OAAsB,KAAKI;AAA3B;AAAA;AAAA;AAAA;AAAA,kBAAP;AACD,SAND,MAMO;AACL,8BAAO,QAAC,QAAD;AAAU,YAAA,EAAE,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,kBAAP;AACD;AACF,OAZ8B;AAAA;;AAc/BK,IAAAA,MAAM,GAAG;AACP,aAAO,KAAKP,SAAL,EAAP;AACD;;AAhB8B;;AAmBjC,QAAMQ,eAAe,GAAGC,KAAK,KAAK;AAChCN,IAAAA,WAAW,EAAEM,KAAK,CAACN;AADa,GAAL,CAA7B;;AAIA,SAAOX,OAAO,CAACgB,eAAD,CAAP,CAAyBT,QAAzB,CAAP;AACD,CAzBD;;AA2BA,eAAeH,QAAf","sourcesContent":["import React from \"react\";\nimport { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\nimport { createStructuredSelector } from \"reselect\";\n\nimport { selectCurrentUser } from \"../../redux/user/user.selectors\";\n\nconst withAuth = (WrappedComponent, isAdmin = false) => {\n  class WithAuth extends Component {\n    authCheck = () => {\n      const auth = this.props.userReducer;\n      if (auth.isAuth) {\n        const role = auth.user.role;\n        if (role === 1 && isAdmin) {\n          return <Redirect to=\"/dashboard\" />;\n        }\n        return <WrappedComponent {...this.props} />;\n      } else {\n        return <Redirect to=\"/signin\" />;\n      }\n    };\n\n    render() {\n      return this.authCheck();\n    }\n  }\n\n  const mapStateToProps = state => ({\n    userReducer: state.userReducer,\n  });\n\n  return connect(mapStateToProps)(WithAuth);\n};\n\nexport default withAuth;\n"]},"metadata":{},"sourceType":"module"}